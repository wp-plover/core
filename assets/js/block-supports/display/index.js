(()=>{"use strict";const e=window.React,l=window.wp.hooks,t=window.wp.compose,o=window.plover.utils,r=window.plover.data,n=window.wp.blockEditor,s=window.wp.components,i=window.wp.i18n,p=window.plover.components;function a({name:l,attributes:t,setAttributes:r}){if(!1===(0,o.getPloverSupport)(l,"ploverDisplay"))return null;const a=(0,o.getPloverSupport)(l,"ploverDisplay")?.display,c=(0,o.getPloverSupport)(l,"ploverDisplay")?.order;return!1===a&&!1===c?null:(0,e.createElement)(n.InspectorControls,null,(0,e.createElement)(s.PanelBody,{title:(0,i.__)("Display","plover"),initialOpen:!1},!1!==a&&(0,e.createElement)(p.ResponsiveControl,{title:(0,i.__)("Display","plover"),Component:s.SelectControl,value:t.cssDisplay,onChange:e=>{r({cssDisplay:e})},controlProps:{options:[{label:"",value:""},...a?.options||[{label:(0,i.__)("None","plover"),value:"none"},{label:(0,i.__)("Block","plover"),value:"block"},{label:(0,i.__)("Inline","plover"),value:"inline"},{label:(0,i.__)("Inline Block","plover"),value:"inline-block"},{label:(0,i.__)("Inline Flex","plover"),value:"flex"}]]}}),!1!==c&&(0,e.createElement)(p.ResponsiveControl,{title:(0,i.__)("Order","plover"),Component:s.RangeControl,value:t.cssOrder,sanitizer:e=>""===e?e:Number(e),onChange:e=>{r({cssOrder:e})},controlProps:{min:0,max:10,step:1}})))}(0,l.addFilter)("blocks.registerBlockType","plover/display-attributes",((e,l)=>{const t=(0,o.getPloverSupport)(l,"ploverDisplay");if(!1===t)return e;const r={};return!1!==t?.display&&(r.cssDisplay={type:"object"}),!1!==t?.order&&(r.cssOrder={type:"object"}),e.attributes={...e.attributes,...r},e})),(0,l.addFilter)("editor.BlockListBlock","plover/with-block-display-css",(0,t.createHigherOrderComponent)((l=>t=>{var n,s,i;const{name:p}=t,a=(0,o.getPloverSupport)(p,"ploverDisplay"),c=(0,e.createElement)(l,{...t});if(!1===a)return c;const[u]=(0,r.useDeviceType)(),v=(0,o.getScalarValueByDevice)(null!==(n=t?.attributes?.cssDisplay)&&void 0!==n?n:"",u),d=(0,o.getScalarValueByDevice)(null!==(s=t?.attributes?.cssOrder)&&void 0!==s?s:"",u),y={};v&&(y.display=v),""!==d&&(y.order=Number(d));const w={...(t={...t,style:{...null!==(i=t.style)&&void 0!==i?i:{},...y}}).wrapperProps,style:{...t.wrapperProps?.style,...y}};return(0,e.createElement)(l,{...t,wrapperProps:w})}),"withBlockDisplayCss")),(0,l.addFilter)("editor.BlockEdit","plover/display-controls",(l=>t=>{const{isSelected:o}=t;return(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l,{...t}),o&&(0,e.createElement)(a,{...t}))}))})();