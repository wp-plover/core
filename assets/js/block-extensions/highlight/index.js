(()=>{"use strict";const e=window.React,l=window.wp.hooks,t=window.plover.utils,a=window.wp.blockEditor,i=window.wp.element,n=window.wp.richText,o=({attributes:l})=>{const o=(0,i.useRef)(null),r=(0,a.useBlockProps)({className:{[`plover-prism prism-${l.theme}-theme`]:!0,[`language-${l.language}`]:!0}});return(0,i.useEffect)((()=>{o&&o.current&&window.Prism&&window.Prism.highlightElement(o.current,!1)}),[o,l?.content,l.theme]),(0,e.createElement)("pre",{...r},(0,e.createElement)("code",{ref:o},(0,t.isString)(l?.content)?(0,e.createElement)(i.RawHTML,null,l?.content):(0,n.getTextContent)(l?.content)))},r=window.wp.components,u=window.wp.i18n,g=({attributes:l,setAttributes:t})=>(0,e.createElement)(a.InspectorControls,null,(0,e.createElement)(r.PanelBody,null,(0,e.createElement)(r.__experimentalToggleGroupControl,{isBlock:!0,label:(0,u.__)("Style","plover"),value:l.highlight,onChange:e=>{t({highlight:e})}},(0,e.createElement)(r.__experimentalToggleGroupControlOption,{value:"highlight",label:(0,u.__)("Highlight","plover")}),(0,e.createElement)(r.__experimentalToggleGroupControlOption,{value:"none",label:(0,u.__)("None","plover")})),"highlight"===l.highlight&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.SelectControl,{label:(0,u.__)("Theme","plover"),value:l.theme,options:[{label:"Monokai",value:"monokai"},{label:"Solarized Dark",value:"solarized-dark"},{label:"Solarized Light",value:"solarized-light"},{label:"Github Dark",value:"github-dark"},{label:"Github Light",value:"github-light"},{label:"Github Copilot",value:"github-copilot"},{label:"Tomorrow Night",value:"tomorrow-night"},{label:"Twilight",value:"twilight"},{label:"VS Code Dark",value:"vsc-dark"},{label:"One Light",value:"one-light"}],onChange:e=>t({theme:e}),__nextHasNoMarginBottom:!0}),(0,e.createElement)(r.SelectControl,{label:(0,u.__)("Language","plover"),value:l.language,options:[{label:"C-Like",value:"clike"},{label:"Markup",value:"markup"},{label:"HTML",value:"html"},{label:"XML",value:"xml"},{label:"SVG",value:"svg"},{label:"CSS",value:"css"},{label:"JavaScript",value:"javascript"},{label:"TypeScript",value:"typescript"},{label:"React JSX",value:"jsx"},{label:"React TSX",value:"tsx"},{label:"Go",value:"go"},{label:"C",value:"c"},{label:"C#",value:"cs"},{label:"C++",value:"cpp"},{label:"PHP",value:"php"},{label:"JSON",value:"json"},{label:"Python",value:"python"},{label:"Rust",value:"rust"}],onChange:e=>t({language:e}),__nextHasNoMarginBottom:!0})))),h={highlight:{type:"string",default:"highlight"},theme:{type:"string",default:"github-copilot"},language:{type:"string",default:"clike"}};(0,t.getExtensionSetting)(),(0,l.addFilter)("blocks.registerBlockType","plover/highlight-attributes",((e,l)=>("core/code"===l&&(e.attributes={...e.attributes,...(0,t.getExtensionSetting)("highlight","attributes",h)}),e))),(0,l.addFilter)("editor.BlockEdit","plover/highlight-controls",(l=>t=>{const{attributes:a,isSelected:i,name:n}=t;return"core/code"!==n?(0,e.createElement)(l,{...t}):(0,e.createElement)(e.Fragment,null,"none"===a.highlight?(0,e.createElement)(l,{...t}):i?(0,e.createElement)("div",{className:`prism-${a.theme}-theme`},(0,e.createElement)(l,{...t})):(0,e.createElement)(o,{...t}),(0,e.createElement)(g,{...t}))}))})();